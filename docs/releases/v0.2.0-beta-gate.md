# v0.2.0-beta Gate

**Purpose**: Explicit quality gate criteria for promoting v0.2.0-alpha.X → v0.2.0-beta.0  
**Status**: Draft  
**Last Updated**: 2025-12-04

## Summary

This document defines the **hard requirements** that must be met before tagging v0.2.0-beta.0. Beta represents API stability commitment and production-ready code suitable for community testing.

## Gate Criteria

### 1. CI Green (Required)

All CI jobs must pass on the release commit:

| Job | Workflow | Gate |
|-----|----------|------|
| `navigation-tests` | [ci.yml](../../.github/workflows/ci.yml#L66) | ✅ Must pass |
| `test` (all platforms) | [ci.yml](../../.github/workflows/ci.yml#L14) | ✅ Must pass |
| `ratatui-testlib` | [ci.yml](../../.github/workflows/ci.yml#L119) | ✅ Must pass |
| `lint` | [ci.yml](../../.github/workflows/ci.yml#L194) | ✅ Must pass |
| `build-release` | [ci.yml](../../.github/workflows/ci.yml#L309) | ✅ Must pass |
| `security` | [ci.yml](../../.github/workflows/ci.yml#L277) | ✅ Must pass |
| `docs` | [ci.yml](../../.github/workflows/ci.yml#L215) | ✅ Must pass |

**Verification**: Check [Actions](https://github.com/raibid-labs/scarab/actions/workflows/ci.yml) for 3 consecutive green runs.

### 2. Documentation (Required)

- [ ] `docs/README.md` index present and links valid
- [ ] Legacy docs flagged with deprecation banners (in `docs/deprecated/`)
- [ ] External docs site referenced (mdBook portal at `docs/book/`)
- [ ] Keybindings documented in `docs/book/src/reference/keybindings.md`
- [ ] Configuration schema documented in `docs/book/src/reference/config-schema.md`

### 3. API/ABI Freeze (Required)

- [ ] Plugin ABI frozen – no breaking changes to:
  - `PluginApi` trait
  - `PluginContext` interface
  - Event types in `scarab-plugin-api`
- [ ] Navigation API frozen – no breaking changes to:
  - `NavFocus`, `NavHint`, `NavMode` components
  - Navigation input router keybindings
- [ ] Config schema finalized – no field removals or type changes

**Verification**: Review diff since last alpha for breaking changes.

### 4. Telemetry Counters (Required)

- [ ] Navigation counters present: `nav.focus_changes`, `nav.hint_activations`, `nav.mode_transitions`
- [ ] Render counters present: `render.frame_time_ms`, `render.fps`, `render.mesh_updates`
- [ ] Image counters present: `image.decode_count`, `image.cache_hits`, `image.cache_evictions`
- [ ] Counters documented in `docs/TELEMETRY.md` or `docs/TELEMETRY_QUICK_REFERENCE.md`

### 5. Bug Triage (Required)

- [ ] No P0 (critical/crash) bugs open
- [ ] No P1 (high/regression) bugs open with `v0.2.0` milestone
- [ ] Known issues documented in CHANGELOG.md

## Owners & Targets

| Area | Owner | Target Date |
|------|-------|-------------|
| CI stabilization | TBD | TBD |
| Documentation freeze | TBD | TBD |
| API/ABI review | TBD | TBD |
| Telemetry implementation | TBD | TBD |
| Bug triage | TBD | TBD |
| Final sign-off | Release Manager | TBD |

## Stabilization Plan

### Phase 1: Alpha Hardening (Current)
- Continue shipping v0.2.0-alpha.X as issues are fixed
- Triage bugs and assign priorities
- Complete missing documentation

### Phase 2: Feature Freeze (Target: TBD)
- No new features after this point
- Only bug fixes and documentation

### Phase 3: Beta Promotion (Target: TBD)
- All gate criteria verified
- Tag v0.2.0-beta.0
- Begin 2-week stabilization period

### Phase 4: Stable Release (Target: TBD)
- Zero P0/P1 bugs after beta period
- Tag v0.2.0

## Checklist for Release Manager

Before tagging v0.2.0-beta.0:

```bash
# 1. Verify CI green
gh run list --workflow=ci.yml --limit=3

# 2. Verify no P0/P1 bugs
gh issue list --label=P0,P1 --state=open

# 3. Run local verification
cargo check --workspace
cargo test --workspace
cargo clippy --workspace -- -D warnings

# 4. Verify documentation builds
mdbook build docs/book
cargo doc --workspace --no-deps
```

## References

- [v0.2.0-beta-criteria.md](./v0.2.0-beta-criteria.md) – Full beta criteria document
- [v0.2.0-alpha-plan.md](./v0.2.0-alpha-plan.md) – Alpha release plan
- [RELEASE_PROCESS.md](../RELEASE_PROCESS.md) – General release workflow
- [CI Workflow](../../.github/workflows/ci.yml) – CI job definitions
