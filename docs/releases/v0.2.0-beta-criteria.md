# v0.2.0-beta Criteria

**Current Status**: Alpha (v0.2.0-alpha.0)
**Target**: v0.2.0-beta.0
**Target Date**: TBD (contingent on quality gates)
**Last Updated**: 2025-12-03

## Executive Summary

This document defines the explicit quality gates, feature completion requirements, and stability criteria that must be met before transitioning from v0.2.0-alpha.X to v0.2.0-beta.0. Beta represents production-ready code suitable for community testing and feedback gathering before the stable v0.2.0 release.

## Quality Gates

**All gates must pass before beta transition. No exceptions.**

### CI/CD Health
- [ ] All CI jobs green for 3 consecutive runs
- [ ] `cargo test --workspace` passes with 100% success rate
- [ ] `cargo clippy --workspace` produces zero warnings
- [ ] `cargo fmt --all -- --check` passes
- [ ] `cargo audit` clean (no vulnerabilities)
- [ ] `cargo build --release` completes successfully
- [ ] All platform targets build (Linux x86_64, macOS, Windows)

### Test Suite Completeness
- [ ] ratatui-testlib smoke tests passing (all enabled tests)
- [ ] Navigation smoke tests passing (`just nav-smoke`)
- [ ] Golden tests passing (visual regression - all baselines match)
- [ ] Headless harness tests passing (`just headless`)
- [ ] Unit test coverage â‰¥ 60% for core crates
- [ ] E2E integration tests passing (`just e2e`)
- [ ] No flaky tests (3+ consecutive green runs required)

### Bug Triage
- [ ] No P0 (critical) bugs open
- [ ] No P1 (high priority) bugs open
- [ ] All P2 bugs triaged with target release assigned
- [ ] Known issues documented in CHANGELOG.md
- [ ] Regression suite passing (no known regressions from v0.1.x)

### Security
- [ ] `cargo audit` clean
- [ ] All dependencies reviewed for vulnerabilities
- [ ] Plugin sandboxing implemented and tested
- [ ] GPG verification working for plugin marketplace
- [ ] No unsafe code added without review and justification
- [ ] Security audit completed (internal or external)

## Feature Completion

**These features must be stable with no breaking API changes planned.**

### Core Infrastructure
- [ ] Plugin ABI frozen (no breaking trait changes)
  - `PluginApi` trait stable
  - Event system finalized
  - Resource access patterns documented
- [ ] Navigation system stable (no API changes)
  - ECS-native navigation complete
  - Per-pane state isolation verified
  - Keybindings finalized
  - Migration guide from v0.1.x complete
- [ ] Configuration schema finalized
  - All settings documented
  - Validation implemented
  - Migration tooling available
  - No breaking config format changes planned
- [ ] IPC protocol versioned
  - Protocol version negotiation implemented
  - Backward compatibility tested
  - Forward compatibility strategy documented

### Media Pipeline
- [ ] iTerm2 inline images working end-to-end
- [ ] Sixel graphics protocol implemented (Phase 1 roadmap)
- [ ] Kitty graphics protocol implemented (Phase 1 roadmap)
- [ ] Ligature rendering verified with cosmic-text
- [ ] Image buffer management (LRU cache, bounded size)
- [ ] Graphics inspector functional for debugging

### ECS & Rendering
- [ ] Chunked grid projection implemented (Phase 2 roadmap)
- [ ] Dirty diff optimization working
- [ ] Mesh generation performance acceptable (<16ms for full refresh)
- [ ] Memory usage stable under load tests
- [ ] No memory leaks in 24-hour stress test

### Ratatui Bridge (Phase 3 roadmap)
- [ ] bevy-ratatui bridge complete
- [ ] Overlay rendering working (command palette prototype)
- [ ] Input event mapping functional
- [ ] Focus stack management implemented
- [ ] Documentation guide available

### Plugin System
- [ ] Fusabi VM integration stable
- [ ] Fusabi Frontend hot-reloading working
- [ ] Plugin event routing via Bevy ECS
- [ ] Example plugins (link-hints, palette, tutorial) ported
- [ ] Plugin development guide complete
- [ ] Plugin security (rate limiting, sandboxing) verified

### Shell Integration
- [ ] OSC 133 prompt markers implemented
- [ ] Jump-to-previous-prompt functional
- [ ] Navigation anchor system working
- [ ] Shell integration guide complete

## Documentation Requirements

**Documentation must be complete, accurate, and deployed.**

### User Documentation
- [ ] mdBook portal deployed and accessible
- [ ] User guide complete with:
  - Installation instructions (all platforms)
  - Configuration guide
  - Keybindings reference
  - Feature tutorials
  - Troubleshooting guide
- [ ] Migration guide from v0.1.x
  - Breaking changes documented
  - Step-by-step migration instructions
  - Code examples for API changes
  - Config migration tooling/scripts
- [ ] Known issues documented
- [ ] FAQ section populated

### Developer Documentation
- [ ] Rustdoc API docs deployed (docs.rs or self-hosted)
- [ ] Developer guide complete with:
  - Architecture overview
  - Build instructions
  - Testing guide
  - Plugin development guide
  - Contributing guide
- [ ] Code examples for common tasks
- [ ] Architecture diagrams (IPC, ECS, plugin system)
- [ ] Performance tuning guide

### Release Documentation
- [ ] CHANGELOG.md comprehensive and accurate
- [ ] Release notes drafted
- [ ] Breaking changes clearly highlighted
- [ ] Upgrade path documented
- [ ] Deprecation notices for removed features

### Internal Documentation
- [ ] TESTING.md accurate and complete
- [ ] CI/CD pipeline documented
- [ ] Release process documented
- [ ] Incident response procedures documented

## Performance & Stability

**Performance must meet baseline targets established during alpha.**

### Performance Baselines
- [ ] Startup time < 500ms (cold start)
- [ ] Frame time < 16ms (60 FPS sustained)
- [ ] Memory footprint < 50MB (idle, single pane)
- [ ] CPU usage < 5% (idle)
- [ ] Grid update latency < 5ms (99th percentile)

### Stress Tests
- [ ] 24-hour stability test passes (no crashes, no leaks)
- [ ] 100 panes concurrent test passes
- [ ] 10,000 line/sec throughput sustained
- [ ] Large file rendering (1M line log) works without OOM
- [ ] Rapid window resize handling stable

### Regression Tests
- [ ] No performance regressions vs. v0.1.0-alpha.15
- [ ] Benchmark suite passing
- [ ] Memory usage stable over 1000 operations
- [ ] No UI thread blocking under load

## Platform Support

**All tier-1 platforms must be fully functional.**

### Tier 1 Platforms (Must Work)
- [ ] Linux x86_64 (Ubuntu 22.04+, Fedora 38+)
- [ ] macOS 12+ (Intel and Apple Silicon)
- [ ] Windows 10+ (native, not WSL)

### Tier 2 Platforms (Best Effort)
- [ ] Linux ARM64 (Raspberry Pi 4+)
- [ ] FreeBSD 13+
- [ ] WSL2

### Platform-Specific Features
- [ ] X11 and Wayland support on Linux
- [ ] Native macOS titlebar integration
- [ ] Windows ConPTY working correctly
- [ ] GPU acceleration on all platforms

## Community Readiness

**Beta is suitable for community testing and feedback.**

### Communication
- [ ] Beta announcement drafted
- [ ] Community testing plan prepared
- [ ] Feedback collection mechanism ready (GitHub Discussions, Discord)
- [ ] Known limitations clearly communicated
- [ ] Support channels established

### Distribution
- [ ] Binary releases for all tier-1 platforms
- [ ] Installation instructions verified on clean systems
- [ ] Package manager submissions prepared (Homebrew, Cargo)
- [ ] Docker image available for testing

### Support Infrastructure
- [ ] Issue templates updated for beta
- [ ] Bug report template includes version/platform
- [ ] Triage workflow documented
- [ ] Response time SLA defined (48 hours for P1)

## Roadmap to Stable (v0.2.0)

### Beta Stabilization Period
**Duration**: Minimum 2 weeks after v0.2.0-beta.0

#### Week 1-2: Community Testing
- Release v0.2.0-beta.0 to community
- Monitor GitHub issues for critical bugs
- Gather feedback on UX and performance
- Track installation success rate
- Monitor crash reports (if telemetry enabled)

#### Week 3-4: Bug Fixes Only
- **No new features** - code freeze for feature additions
- Fix P0/P1 bugs discovered during testing
- Address documentation gaps
- Performance optimizations if critical
- Release v0.2.0-beta.1, beta.2, etc. as needed

### Stable Release Criteria
- [ ] Zero P0/P1 bugs open
- [ ] Community feedback incorporated
- [ ] No breaking changes since beta.0
- [ ] Performance baselines met or exceeded
- [ ] Documentation complete and accurate
- [ ] All test suites green
- [ ] Security audit passed
- [ ] 2-week stability period with no critical issues

### Post-Stable Plan
- Release v0.2.0 (stable)
- Announce widely (Reddit, Hacker News, terminal communities)
- Submit to package managers (crates.io, Homebrew, AUR)
- Begin v0.3.0 planning (new feature development)

## Risk Assessment

### High-Risk Areas
1. **Media Pipeline**: iTerm2/Sixel/Kitty image rendering untested at scale
2. **ECS Migration**: Chunked grid may have performance issues
3. **Ratatui Bridge**: Integration complexity could introduce bugs
4. **Plugin Security**: Sandboxing needs thorough security review
5. **Platform Support**: Windows/macOS may have platform-specific issues

### Mitigation Strategies
- Early community alpha releases for testing
- Comprehensive integration tests for media pipeline
- Performance benchmarks with automated regression detection
- External security audit before beta
- Platform-specific testing matrix in CI

## Sign-Off Checklist

**All stakeholders must approve before beta release.**

### Technical Sign-Off
- [ ] Lead Engineer approves code freeze
- [ ] QA Lead confirms all tests passing
- [ ] Security Lead confirms audit complete
- [ ] Release Manager confirms checklist complete

### Documentation Sign-Off
- [ ] Technical Writer approves user documentation
- [ ] Developer Relations approves developer documentation
- [ ] Release Manager approves changelog accuracy

### Product Sign-Off
- [ ] Product Owner approves feature completeness
- [ ] UX Lead approves user experience quality
- [ ] Community Manager approves communication plan

## Success Metrics

**How we measure beta success:**

### Adoption Metrics
- 100+ community beta testers
- 50+ GitHub issues filed (indicates engagement)
- 10+ contributed PRs during beta period
- 5+ platforms tested (beyond tier-1)

### Quality Metrics
- Zero critical bugs after week 1
- <5 high-priority bugs open at stable release
- 90%+ test coverage for new features
- Zero security vulnerabilities

### Community Metrics
- Positive feedback ratio >75% (survey or sentiment analysis)
- 50+ stars on GitHub during beta period
- 10+ blog posts/reviews from community
- Active Discord/discussions engagement

## References

- **Alpha Plan**: [v0.2.0-alpha-plan.md](./v0.2.0-alpha-plan.md)
- **Release Process**: [../RELEASE_PROCESS.md](../RELEASE_PROCESS.md)
- **Testing Guide**: [../TESTING.md](../TESTING.md)
- **Roadmap**: [../research/codex-2025-12-02-roadmap-scarab.md](../research/codex-2025-12-02-roadmap-scarab.md)
- **GitHub Issues**: Beta milestone (TBD)

## Revision History

| Date | Version | Changes | Author |
|------|---------|---------|--------|
| 2025-12-03 | 1.0 | Initial beta criteria document | Release Team |

---

**Next Review**: After v0.2.0-alpha.0 ships (weekly during alpha period)
**Owner**: Release Manager
**Stakeholders**: Engineering, QA, Product, Community
