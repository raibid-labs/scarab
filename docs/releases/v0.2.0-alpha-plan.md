# v0.2.0-alpha.0 Release Plan

**Status**: Ready for stabilization sprint
**Target Date**: TBD (pending final stabilization)
**Current Version**: v0.1.0-alpha.15
**Release Type**: Alpha (breaking changes expected)

## Executive Summary

This release marks the transition from perpetual alpha (v0.1.0-alpha.X) to a structured release cadence. It consolidates major work from audit 007, including comprehensive documentation, testing infrastructure, developer tooling, and accessibility features.

## New Features from Audit 007

### Documentation Infrastructure (Issues #61, #62, #71)
- **Central Documentation Index** (`docs/README.md`)
  - Organized hierarchical structure
  - Clear separation of user vs developer content
  - Single source of truth for all documentation
- **mdBook Documentation Portal** (`docs/book/`)
  - Browsable documentation site with search
  - Navigation guides (user + developer)
  - Configuration reference
  - Plugin development guides
  - Contributing guidelines
- **Comprehensive TESTING Guide** (`TESTING.md`)
  - 757 lines of test documentation
  - One-line commands for all test types
  - Test organization and patterns
  - CI integration instructions

### Testing Infrastructure (Issues #63, #64, #65)
- **ratatui-testlib Integration**
  - Smoke tests for widget verification
  - Component isolation test patterns
  - PTY-level validation framework
  - Test harness for Bevy integration (stubs ready)
- **BevyTuiTestHarness** (upstream contribution)
  - ECS/SharedState access stubs
  - Placeholder for future Bevy integration
  - Documented in README_RATATUI_TESTLIB.md
- **justfile Test Targets**
  - `just test-all` - Comprehensive test suite
  - `just nav-smoke` - Navigation smoke tests
  - `just golden` - Visual regression tests
  - `just headless` - Headless harness tests
  - `just testlib` - ratatui-testlib tests
  - `just test-quick` - Fast iteration subset
  - `just ci` - All quality checks

### Developer Tools (Issues #66, #67, #69, #70)
- **Telemetry HUD Plugin** (#66)
  - Real-time FPS and frame time display
  - Navigation metrics tracking (hint count, focus changes)
  - Cache hit/miss statistics
  - Hot-reloadable overlay
  - Configurable telemetry settings
- **Diagnostics Recorder/Replay** (#67)
  - Terminal session recording for debugging
  - Replay functionality for issue reproduction
  - Export/import diagnostics data
- **Graphics Inspector** (#69)
  - Sixel/Kitty/iTerm2 image protocol debugging
  - Image placement and bounds visualization
  - Protocol validation tools
- **Bevy UI Inspector Overlay** (#70)
  - ECS entity browser
  - Component inspection
  - Resource viewer
  - Query debugging

### In-Progress Features
- **Accessibility Support** (#68) - In Progress
  - Screen reader integration (partial)
  - Terminal content export (planned)
  - ARIA-compatible output (planned)

## Features from Previous Alpha Releases

### Graphics Protocols (#28, #29)
- Sixel graphics protocol (implemented)
- Kitty graphics protocol (implemented)
- iTerm2 inline images (implemented)
- Graphics inspector for debugging

### Multiplexing (#30, partial)
- SSH multiplexing (planned)
- Tab/pane system (implemented in v0.1.0-alpha.15)
- Session persistence (implemented)

### UI Enhancements (#31, #32, #35)
- Context menus (planned)
- Plugin marketplace (infrastructure ready)
- Post-process shader effects (planned)

### Security (#33)
- GPG verification for plugins (infrastructure ready)
- SHA256 checksum validation (implemented)
- Plugin sandboxing (planned)

### Shell Integration (#36)
- Deep shell integration (planned)
- OSC 133 prompt markers (implemented)
- Navigation anchors (implemented)

## Stabilization Checklist

### Build Health
- [x] `cargo check --workspace` passes cleanly
- [x] `cargo clippy --workspace` warnings documented
  - Known warnings: unused code, style suggestions (non-blocking)
- [ ] `cargo test --workspace` passes (needs verification)
- [x] All crates compile successfully

### Test Suite Status
- [ ] All unit tests passing
- [ ] Golden tests passing (visual regression)
- [ ] Nav smoke tests passing
- [ ] ratatui-testlib smoke tests passing (enabled tests)
- [ ] Headless harness tests passing
- [ ] E2E tests passing
- [ ] Integration tests passing

### Documentation Completeness
- [x] `docs/README.md` index complete
- [x] `TESTING.md` guide complete (757 lines)
- [x] mdBook builds successfully
- [x] Navigation user guide complete
- [x] Navigation developer guide complete
- [x] Configuration reference complete
- [x] Plugin development guides complete
- [x] CONTRIBUTING-DOCS.md complete

### Known Blocking Issues
- [ ] Navigation IPC handler incomplete (4 missing match arms)
  - File: `crates/scarab-daemon/src/ipc.rs:404`
  - Missing: `NavEnterHintMode`, `NavExitMode`, `NavRegisterFocusable`, `NavUnregisterFocusable`
  - **Status**: Must be fixed before release

### Non-Blocking Issues (defer to v0.2.0-alpha.1)
- Compiler warnings (unused code, clippy style suggestions)
- Accessibility feature completion (#68)
- Context menus (#31)
- Plugin marketplace UI (#32)
- Shader effects (#35)

## CI/CD Gates

### Pre-Release CI Checks
```bash
# All checks must pass before release
just ci                    # Format, clippy, test
just test-all              # Comprehensive test suite
just docs-build            # Documentation builds
cargo audit                # Security audit
cargo build --release      # Release build succeeds
```

### Required CI Jobs
- [x] Format check (`cargo fmt --all -- --check`)
- [x] Clippy lints (`cargo clippy --workspace`)
- [ ] Full test suite (`cargo test --workspace`)
- [ ] Documentation build (`just docs-build`)
- [ ] Security audit (`cargo audit`)
- [ ] Release build (`cargo build --release`)

### Test Matrix
| Test Type | Command | Status | Pass Criteria |
|-----------|---------|--------|---------------|
| Unit Tests | `just test` | TBD | 100% pass |
| Golden Tests | `just golden` | TBD | All baselines match |
| Nav Smoke | `just nav-smoke` | TBD | Core nav flows work |
| ratatui-testlib | `just testlib` | TBD | Enabled tests pass |
| Headless | `just headless` | TBD | Harness tests pass |
| E2E | `just e2e` | TBD | Integration scenarios pass |
| Integration | `just integration` | TBD | Plugin integration works |

## Version Bump Instructions

### Workspace Version Update
Current: `0.1.0-alpha.15` ‚Üí Target: `0.2.0-alpha.0`

```bash
# 1. Update workspace Cargo.toml
sed -i 's/version = "0.1.0-alpha.15"/version = "0.2.0-alpha.0"/' Cargo.toml

# 2. Update all crate versions (workspace members inherit)
# No manual edits needed if using workspace.package.version

# 3. Update inter-crate dependencies (if using exact versions)
# Check crates/*/Cargo.toml for hardcoded version strings

# 4. Update Cargo.lock
cargo update --workspace

# 5. Verify versions
cargo metadata --format-version 1 | jq '.packages[] | select(.name | startswith("scarab")) | {name, version}'
```

### CHANGELOG.md Update
- [ ] Add v0.2.0-alpha.0 section at top
- [ ] Consolidate changes from v0.1.0-alpha.15
- [ ] Document breaking changes
- [ ] List new features from audit 007
- [ ] Note known issues
- [ ] Update [Unreleased] section

## Release Timeline Proposal

### Week 1: Stabilization (Dec 4-10)
- **Day 1-2**: Fix navigation IPC handler (blocking issue)
- **Day 3-4**: Run full test suite, fix failing tests
- **Day 5**: Verify all CI gates pass
- **Day 6-7**: Final documentation review and updates

### Week 2: Release Preparation (Dec 11-17)
- **Day 1**: Version bump and CHANGELOG update
- **Day 2**: Create release branch `release/v0.2.0-alpha.0`
- **Day 3**: Final testing and validation
- **Day 4**: Tag and release
- **Day 5**: Post-release monitoring
- **Day 6-7**: Buffer for issues

### Release Day Checklist
1. [ ] All blocking issues resolved
2. [ ] All CI gates green
3. [ ] Version bumped in all crates
4. [ ] CHANGELOG.md updated
5. [ ] Create release branch: `git checkout -b release/v0.2.0-alpha.0`
6. [ ] Create annotated tag: `git tag -a v0.2.0-alpha.0 -m "Release v0.2.0-alpha.0"`
7. [ ] Push tag: `git push origin v0.2.0-alpha.0`
8. [ ] Monitor GitHub Actions workflow
9. [ ] Create GitHub Release with changelog content
10. [ ] Mark as pre-release (alpha)
11. [ ] Merge release branch to main and develop
12. [ ] Delete release branch

## Breaking Changes

### API Changes
- Navigation system now ECS-native (migration from plugin-based)
- EventRegistry deprecated (use Bevy events directly)
- IPC protocol extended with navigation control messages

### Configuration Changes
- New telemetry settings in config
- Navigation keymaps now in dedicated section
- Plugin settings restructured

### Migration Guide
- See `docs/event-migration-guide.md` for event system migration
- Navigation plugin users: migrate to ECS navigation API
- Config users: review new telemetry and navigation settings

## Post-Release Actions

### Immediate (Day 1)
- [ ] Verify GitHub release created successfully
- [ ] Test installation from release artifacts
- [ ] Monitor for critical issues
- [ ] Announce release in project channels

### Short-term (Week 1)
- [ ] Create GitHub issue for compiler warnings cleanup
- [ ] Update main README.md with new features
- [ ] Gather community feedback
- [ ] Triage new issues

### Medium-term (Week 2-4)
- [ ] Plan v0.2.0-alpha.1 roadmap
- [ ] Address accumulated warnings
- [ ] Complete accessibility feature (#68)
- [ ] Evaluate beta readiness (see [v0.2.0-beta-criteria.md](./v0.2.0-beta-criteria.md))

## Beta Transition Planning

Once the alpha series stabilizes, transition to beta requires meeting explicit quality gates. See the comprehensive beta criteria document for details:

**[v0.2.0-beta Criteria Document](./v0.2.0-beta-criteria.md)** (Issue #79)

Key beta requirements summary:
- All CI jobs green (test, lint, docs, security)
- Plugin ABI frozen (no breaking changes)
- Navigation system stable
- Configuration schema finalized
- IPC protocol versioned
- Full documentation deployed (mdBook + Rustdoc)
- Migration guide complete
- 2-week stability period after beta before stable release

## Success Criteria

### Must Have (Blocks Release)
- ‚úÖ All blocking issues resolved
- ‚úÖ All CI gates pass
- ‚úÖ Documentation complete
- ‚úÖ Version bumped correctly
- ‚úÖ CHANGELOG updated

### Should Have (Strongly Desired)
- ‚úÖ All tests passing (100%)
- ‚úÖ No P0 bugs open
- ‚úÖ Security audit clean
- ‚úÖ Release notes drafted

### Nice to Have (Defer if Needed)
- ‚è∏Ô∏è All compiler warnings resolved
- ‚è∏Ô∏è Accessibility feature complete
- ‚è∏Ô∏è Performance benchmarks run

## Release Notes Draft

### v0.2.0-alpha.0 - [Release Date]

**This is an alpha release - expect breaking changes.**

#### Highlights
- Comprehensive documentation portal with mdBook
- Extensive testing infrastructure with ratatui-testlib
- Developer tools: telemetry HUD, diagnostics recorder, graphics/Bevy inspectors
- Stabilized navigation system with per-pane state isolation
- Production-ready plugin security with rate limiting

#### New Features
- mdBook documentation portal with search and navigation
- Central documentation index (`docs/README.md`)
- Comprehensive TESTING guide with one-line commands
- ratatui-testlib integration for widget testing
- BevyTuiTestHarness stubs for ECS integration
- Telemetry HUD plugin with real-time performance metrics
- Diagnostics recorder/replay for debugging
- Graphics inspector for Sixel/Kitty/iTerm2 protocols
- Bevy UI inspector overlay for ECS debugging
- justfile targets for all test types

#### Changed
- Documentation restructured into logical hierarchy
- Navigation guides split into user and developer sections
- Test suite organized with clear patterns
- CI pipeline enhanced with comprehensive checks

#### Fixed
- Navigation state isolation per pane
- Plugin security with rate limiting and validation
- Documentation gaps from audit 007

#### Known Issues
- Navigation IPC handler incomplete (will be fixed before tag)
- Various compiler warnings (tracked for future cleanup)
- Accessibility feature in progress

#### Breaking Changes
- ECS-native navigation (migration guide available)
- EventRegistry deprecated (use Bevy events)
- IPC protocol extended (backward compatible)

See CHANGELOG.md for complete details.

## References

- **Release Process**: `docs/RELEASE_PROCESS.md`
- **Release Checklist**: `docs/RELEASE_CHECKLIST.md`
- **Existing Checklist**: `docs/releases/v0.2.0-alpha.0-checklist.md`
- **Beta Criteria**: `docs/releases/v0.2.0-beta-criteria.md` (Issue #79)
- **Audit Summary**: `docs/audits/codex-2025-12-02-docs-testlib-007/summary.md`
- **Issue Tracker**: GitHub Issue #72

## Contributors

This release consolidates work from audit 007 and multiple development sprints:
- Documentation portal implementation
- Testing infrastructure setup
- Developer tooling (telemetry, diagnostics, inspectors)
- Navigation system stabilization
- Plugin security enhancements

ü§ñ Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>
